@model List<OrchardLite.Web.Models.ContentItem>
@{
    ViewBag.Title = "Home";
}

<div class="alert alert-warning">
    <h5><i class="fas fa-exclamation-triangle text-warning"></i> License Compliance Warning</h5>
    <p class="mb-0"><strong>Notice:</strong> This application contains GPL and AGPL licensed components that may require source code disclosure. <strong>Compliance review recommended before production deployment.</strong></p>
</div>

<div class="alert alert-danger">
    <h5><i class="fas fa-shield-alt text-danger"></i> Network Security Warning</h5>
    <p class="mb-0"><strong>Critical:</strong> Database and application deployed in <strong>public subnets with direct internet access</strong>. This configuration violates security best practices and requires immediate network isolation.</p>
</div>

<div class="row">
    <div class="col-md-8">
        <h1>Welcome to OrchardLite CMS</h1>
        <p class="lead">Enterprise Content Management System</p>
        
        <div class="alert alert-success">
            <h5><i class="fas fa-check-circle"></i> Database Connected</h5>
            <p><strong>Database:</strong> @ViewBag.DbHost:@ViewBag.DbPort</p>
            <p><strong>Total Records:</strong> @ViewBag.TotalRecords</p>
            <p><strong>Platform:</strong> ECS Fargate</p>
        </div>
        
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3>Content Items</h3>
            <a href="/all-content" class="btn btn-sm" style="background-color: #FF9900; border-color: #FF9900; color: white;">
                <i class="fas fa-list"></i> View All @ViewBag.TotalRecords Records
            </a>
        </div>
        
        <div class="row">
            @foreach (var post in Model)
            {
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title">@post.Title</h6>
                            <p class="card-text small">@(string.IsNullOrEmpty(post.Summary) ? "No summary available" : post.Summary)</p>
                            <small class="text-muted">
                                <i class="fas fa-calendar"></i> @post.PublishedDate.ToShortDateString()
                                <i class="fas fa-eye ms-2"></i> @post.ViewCount
                            </small>
                        </div>
                    </div>
                </div>
            }
        </div>
        
        <div class="text-center mt-3">
            <small class="text-muted">Showing latest 20 of @ViewBag.TotalRecords total records</small>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header text-white" style="background-color: #232F3E;">
                <h5><i class="fas fa-info-circle" style="color: #FF9900;"></i> System Information</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li><strong>Framework:</strong> <span class="text-danger">@ViewBag.DotNetVersion</span></li>
                    <li><strong>Platform:</strong> ECS Fargate</li>
                    <li><strong>Database:</strong> <span class="text-danger">@ViewBag.DatabaseType</span></li>
                    <li><strong>Network:</strong> <span class="text-danger">Public Subnets Only</span></li>
                    <li><strong>Records:</strong> @ViewBag.TotalRecords</li>
                </ul>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-header text-white" style="background-color: #dc3545;">
                <h5><i class="fas fa-exclamation-triangle"></i> Issues Detected</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled small">
                    <li><i class="fas fa-times text-danger"></i> Legacy .NET Core 3.1</li>
                    <li><i class="fas fa-times text-danger"></i> Single-instance database</li>
                    <li><i class="fas fa-times text-danger"></i> Database in public subnet</li>
                    <li><i class="fas fa-times text-danger"></i> GPL-licensed components</li>
                    <li><i class="fas fa-times text-danger"></i> Manual deployments</li>
                    <li><small class="text-muted">Modernization required</small></li>
                </ul>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-header text-white" style="background-color: #FF9900;">
                <h5><i class="fas fa-check-circle"></i> Setup Complete</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li><i class="fas fa-check text-success"></i> RDS MySQL Database</li>
                    <li><i class="fas fa-check text-success"></i> ECS Fargate Application</li>
                    <li><i class="fas fa-check text-success"></i> Load Balancer & Networking</li>
                    <li><i class="fas fa-check text-success"></i> Sample Data Created</li>
                </ul>
            </div>
        </div>
    </div>
</div>
